<div class="toolbar home__toolbar">
  <span class="home__toolbar-item home__toolbar-item--dropdown">
    <span class="halflings halflings-file"></span>
    <span class="dropdown home__toolbar-dropdown">
      <span class="dropdown__label">New test case format:</span>
      <a class="dropdown__item" ng-repeat="format in $ctrl.supportedFormats" ng-click="$ctrl.create($event, format)">
        <span class="home__toolbar-dropdown-name">{{::format.name}}</span>
        <span class="home__toolbar-dropdown-ext">{{::format.extension}}</span>
      </a>
    </span>
  </span>
  <a ng-click="$ctrl.open($event)" title="open existing test case" class="home__toolbar-item halflings halflings-folder-open"></a>
  <a ng-click="$ctrl.save($event)" title="save" class="home__toolbar-item halflings halflings-floppy-disk"></a>
  <span class="home__toolbar-item home__toolbar-item--dropdown">
    <span class="halflings halflings-floppy-save"></span>
    <span class="dropdown home__toolbar-dropdown">
      <span class="dropdown__label">Save as:</span>
      <a class="dropdown__item" ng-repeat="format in $ctrl.supportedFormats" ng-click="$ctrl.save($event, true, format)">
        <span class="home__toolbar-dropdown-name">{{::format.name}}</span>
        <span class="home__toolbar-dropdown-ext">{{::format.extension}}</span>
      </a>
    </span>
  </span>
  <span class="separator"></span>
  <a ng-click="$ctrl.run($event)" ng-if="!$ctrl.running" title="execute commands" class="home__toolbar-item halflings halflings-play"></a>
  <a ng-click="$ctrl.interruptRunner($event)" ng-if="$ctrl.running" title="cancel runner" class="home__toolbar-item halflings halflings-stop"></a>
  <a ng-click="$ctrl.toggleRecording($event)" title="{{$ctrl.isRecordingEnabled?'stop recording':'start recording'}}" class="home__toolbar-item halflings"
    ng-class="{'halflings-record':$ctrl.isRecordingEnabled, 'halflings-record-empty':!$ctrl.isRecordingEnabled}"></a>
  <a ng-click="$ctrl.toggleSettings(true)" title="open settings" class="home__toolbar-item halflings halflings-cog"></a>
</div>
<div class="home__content">
  <list items="$ctrl.testCase.items" selected-index="$ctrl.selectedIndex" on-select="$ctrl.onSelect(index)" on-change="$ctrl.onChange()"
    recording="$ctrl.isRecordingEnabled" settings="$ctrl.settings"></list>
</div>
<div ng-if="$ctrl.showSettings" class="modal">
  <div class="modal__dialog">
    <a ng-click="$ctrl.toggleSettings(false)" title="close" class="halflings halflings-remove modal__close"></a>
    <settings test-case="$ctrl.testCase" settings="$ctrl.settings" extensions="$ctrl.extensions" class="modal__content"></settings>
  </div>
</div>
<datalist id="commands">
  <option ng-repeat="cmd in $ctrl.supportedCommands" value="{{::cmd.value}}">{{::cmd.title}}</option>
</datalist>